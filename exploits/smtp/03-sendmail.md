## Sendmail

Name      | Version
:---------|:--------------
Sendmail  | 8.15.2

The homepage of Sendmail is https://www.proofpoint.com/us/products/email-protection/open-source-email-solution.

We used a [Docker image][1] by the GitHub user `pigeosolutions`.

[1]: https://github.com/pi-geosolutions/docker-sendmail

```
$ docker run -e WHITELIST_FROM=foo@example.com --rm --name exim -p 1587:587 -p 2525:25 pigeosolutions/docker-sendmail
```

### HTTP Detection

Sendmail does detect an HTTP POST request if it is sent as first command.

```
220 087d9638f67b ESMTP Sendmail 8.15.2/8.15.2/Debian-8; Wed, 17 Feb 2021 20:02:32 GMT; (No UCE/UBE) logging access from: [172.17.0.1](FAIL)-[172.17.0.1]
POST / HTTP/1.1
421 4.7.0 087d9638f67b Rejecting open proxy [172.17.0.1]
Connection closed by foreign host.
```

This means that Sendmail does not detect HTTP POST requests for
STARTTLS based connections, as then STARTTLS is the first command.

### Error Tolerance

Yes. Sendmail allows up to 25 errors before terminating the connection.

```
220 087d9638f67b ESMTP Sendmail 8.15.2/8.15.2/Debian-8; Wed, 17 Feb 2021 20:02:50 GMT; (No UCE/UBE) logging access from: [172.17.0.1](FAIL)-[172.17.0.1]
500 5.5.1 Command unrecognized: "X"
500 5.5.1 Command unrecognized: "POST / HTTP/1.1"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
500 5.5.1 Command unrecognized: "Header: Field"
421 4.7.0 087d9638f67b Too many bad commands; closing connection
Connection closed by foreign host.
```

### Reflection

Yes, pre-auth.

```
<script>alert(1);</script>
500 5.5.1 Command unrecognized: "<script>alert(1);</script>"
```
